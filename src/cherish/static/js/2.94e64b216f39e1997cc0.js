webpackJsonp([2],{"0OPg":function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("oAV5"),a={data:function(){var e=this;return{form:{name:"",account:"",pass:"",checkPass:"",email:"",phone:"",card:"",birth:"",sex:""},rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],pass:[{validator:function(r,t,o){""===t?o(new Error("请输入密码")):(""!==e.form.checkPass&&e.$refs.form.validateField("checkPass"),o())},trigger:"blur"}],phone:[{validator:function(r,t,a){""===t?a(new Error("请输入手机号")):o.a.phoneReg.test(e.form.phone)?a():a(new Error("请输入正确的手机号"))},trigger:"blur"}],checkPass:[{validator:function(r,t,o){""===t?o(new Error("请再次输入密码")):t!==e.form.pass?o(new Error("两次输入的密码不一致")):o()},trigger:"blur"}]}}},methods:{onSubmit:function(e){var r=this,t=this;t.$refs[e].validate(function(e){if(e){var o=t.form.name,a=t.form.pass,s=t.form.phone;console.log(o),""!=o?axios.get("/api/user/list3").then(function(e){console.log(e.data);var n=e.data.length;console.log(n);for(var l=e.data,i=0;i<n;i++)t.form.name===l[i].userName?function(){console.log(l[i]),console.log("重复的用户名"),r.$message({message:"重复的用户名",type:"error"});var e=r.$loading({lock:!0,text:"重新输入",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});setTimeout(function(){e.close()},100)}():axios.post("/api/user/addUser",{userName:o,password:a,phone:s}).then(function(e){if(console.log(e.data),0==e.data.state){var t=r.$loading({lock:!0,text:"等待跳转",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});setTimeout(function(){t.close(),r.$router.push({path:"/login"})},3e3)}})}):r.$message({message:"请输入正确的用户名",type:"error"})}})},resetForm:function(e){this.$refs[e].resetFields()},onCancle:function(){this.$router.push("/login")},getDateTimes:function(e){return e=new Date(e)}}},s={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{attrs:{id:"img"}},[t("div",{staticClass:"crumbs-register"},[t("el-breadcrumb",{staticClass:"register-title",attrs:{separator:"/"}},[t("el-breadcrumb-item",[t("i",{staticClass:"el-icon-setting"}),e._v("注册")])],1)],1),e._v(" "),t("div",{staticClass:"userContent"},[t("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[t("el-form-item",{attrs:{prop:"name",label:"用户名称"}},[t("el-input",{attrs:{placeholder:"请输入用户名称"},model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"phone",label:"手机"}},[t("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.form.phone,callback:function(r){e.$set(e.form,"phone",r)},expression:"form.phone"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"pass",label:"密码"}},[t("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.form.pass,callback:function(r){e.$set(e.form,"pass",r)},expression:"form.pass"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"checkPass",label:"确认密码"}},[t("el-input",{attrs:{type:"password",placeholder:"请再次输入密码"},model:{value:e.form.checkPass,callback:function(r){e.$set(e.form,"checkPass",r)},expression:"form.checkPass"}})],1),e._v(" "),t("div",{staticClass:"a"},[t("el-row",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.onSubmit("form")}}},[e._v("确定")]),e._v(" "),t("el-button",{on:{click:function(r){return e.resetForm("form")}}},[e._v("重置")]),e._v(" "),t("el-button",{on:{click:function(r){return e.onCancle()}}},[e._v("取消")])],1)],1)],1)],1)])},staticRenderFns:[]};var n=t("VU/8")(a,s,!1,function(e){t("vOE+")},null,null);r.default=n.exports},oAV5:function(e,r,t){"use strict";r.a={emailReg:/^[a-z0-9A-Z]+([-|_|\.]+[a-z0-9A-Z]+)*@([a-z0-9A-Z]+[-|\.])+[a-zA-Z]{2,5}$/,idCardReg:/^(([1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{4})|([1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|(X|x))))$/,phoneReg:/^1[34578]\d{9}$/}},"vOE+":function(e,r){}});
//# sourceMappingURL=2.94e64b216f39e1997cc0.js.map