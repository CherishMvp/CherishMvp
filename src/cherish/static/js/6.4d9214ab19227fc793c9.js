webpackJsonp([6],{"3Klg":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("p3mN"),i=n("Cg+j"),s={connectTimeout:4e4,clientId:"monitorsssss2_"+parseInt(100*Math.random()+800,10),keepAliveInterval:10,username:o.f,password:o.b,clean:!0},l={name:"Monitor2",data:function(){return{msg:"",msg2:{dj:0,fs:0},dd:"",cc:"",ee:"",ee2:"",client:{connected:!0},option:{tooltip:{formatter:"{a} <br/>{b} : {c}"},series:[{radius:"30%",min:0,max:1,startAngle:180,endAngle:0,splitNumber:1,center:["25%","30%"],name:"空气净化风扇开关",type:"gauge",progress:{show:!0},detail:{valueAnimation:!0,fontSize:30,offsetCenter:[0,"-50%"],formatter:function(e){return 1===e?"开":0===e?"关":""}},axisTick:{splitNumber:3,length:4,lineStyle:{width:2,color:"#999"}},splitLine:{length:8,lineStyle:{width:3,color:"#999"}},data:[{value:0,name:"空气净化风扇"}]},{radius:"30%",min:0,max:1,splitNumber:1,startAngle:180,endAngle:0,center:["75%","30%"],name:"窗户开关",type:"gauge",progress:{show:!0},detail:{valueAnimation:!0,fontSize:30,offsetCenter:[0,"-50%"],formatter:function(e){return 1===e?"开":0===e?"关":""}},axisTick:{splitNumber:3,length:4,lineStyle:{width:2,color:"#999"}},splitLine:{length:8,lineStyle:{width:3,color:"#999"}},data:[{value:0,name:"窗户"}]},{radius:"30%",name:"红外传感器",center:["25%","65%"],type:"gauge",startAngle:180,endAngle:0,min:0,max:1,splitNumber:1,itemStyle:{color:"#58D9F9",shadowColor:"rgba(0,138,255,0.45)",shadowBlur:10,shadowOffsetX:2,shadowOffsetY:2},progress:{show:!0,roundCap:!0,width:18},pointer:{icon:"path://M2090.36389,615.30999 L2090.36389,615.30999 C2091.48372,615.30999 2092.40383,616.194028 2092.44859,617.312956 L2096.90698,728.755929 C2097.05155,732.369577 2094.2393,735.416212 2090.62566,735.56078 C2090.53845,735.564269 2090.45117,735.566014 2090.36389,735.566014 L2090.36389,735.566014 C2086.74736,735.566014 2083.81557,732.63423 2083.81557,729.017692 C2083.81557,728.930412 2083.81732,728.84314 2083.82081,728.755929 L2088.2792,617.312956 C2088.32396,616.194028 2089.24407,615.30999 2090.36389,615.30999 Z",length:"65%",width:16,offsetCenter:[0,"5%"]},axisLine:{roundCap:!0,lineStyle:{width:20}},axisTick:{splitNumber:1,length:0,lineStyle:{width:2,color:"#FFB6C1"}},splitLine:{show:!1,lineStyle:{width:3,color:"#999"}},axisLabel:{distance:8,length:4,color:"#FFB6C1",fontSize:20},detail:{valueAnimation:!0,fontSize:30,offsetCenter:[0,"50%"],formatter:function(e){return 1===e?"红外传感器-有人经过":0===e?"红外传感器-无人经过":""}},data:[{value:0}]},{radius:"30%",name:"火焰监测",center:["75%","65%"],type:"gauge",startAngle:180,endAngle:0,min:0,max:1,splitNumber:1,itemStyle:{color:"#58D9F9",shadowColor:"rgba(0,138,255,0.45)",shadowBlur:10,shadowOffsetX:2,shadowOffsetY:2},progress:{show:!0,roundCap:!0,width:18},pointer:{icon:"path://M2090.36389,615.30999 L2090.36389,615.30999 C2091.48372,615.30999 2092.40383,616.194028 2092.44859,617.312956 L2096.90698,728.755929 C2097.05155,732.369577 2094.2393,735.416212 2090.62566,735.56078 C2090.53845,735.564269 2090.45117,735.566014 2090.36389,735.566014 L2090.36389,735.566014 C2086.74736,735.566014 2083.81557,732.63423 2083.81557,729.017692 C2083.81557,728.930412 2083.81732,728.84314 2083.82081,728.755929 L2088.2792,617.312956 C2088.32396,616.194028 2089.24407,615.30999 2090.36389,615.30999 Z",length:"65%",width:16,offsetCenter:[0,"5%"]},axisLine:{roundCap:!0,lineStyle:{width:20}},axisTick:{splitNumber:1,length:0,lineStyle:{width:2,color:"#FFB6C1"}},splitLine:{show:!1,lineStyle:{width:3,color:"#999"}},axisLabel:{distance:8,length:4,color:"#FFB6C1",fontSize:20},detail:{valueAnimation:!0,fontSize:30,offsetCenter:[0,"50%"],formatter:function(e){return 1===e?"发现火焰":0===e?"无火焰":""}},data:[{value:0}]}]}}},mounted:function(){this.mqttMSG(),this.chartChange()},created:function(){},destroyed:function(){},beforeDestroy:function(){this.destroyConnection()},methods:{chartChange:function(){var e=this,t=this.$echarts.init(document.getElementById("chartLineBox"),"gauge");setInterval(function(){t.setOption(e.option,!0)},400)},change:function(){this.$router.push({path:"/test"})},mqttMSG:function(){var e=this;this.client=i.connect(o.d,s),this.client.on("connect",function(){console.log("Connection succeeded!"),e.client.subscribe(["zwt/test","zwt/test/state"],{qos:1},function(e){e?console.log("订阅失败"):console.log("订阅成功")})}),this.client.on("message",function(t,n){if(console.log("收到来自",t,"的消息",n.toString()),"zwt/test/state"==t){var o=n.toString();console.log("收到执行器状态信息:"+o),e.ee2=JSON.parse(o),e.msg2.dj=e.ee2.dj,e.msg2.fs=e.ee2.fs,console.log("风扇状态为:"+e.msg2.fs),console.log("窗户状态为:"+e.msg2.dj),e.option.series[0].data[0].value=e.msg2.fs,e.option.series[1].data[0].value=e.msg2.dj}if(console.log(n),"zwt/test"==t){e.msg=n.toString();var i=e.msg;e.ee=JSON.parse(i),e.option.series[2].data[0].value=e.ee.red,0==e.ee.fire?e.option.series[3].data[0].value=1:e.option.series[3].data[0].value=0}}),this.client.on("error",function(e){console.log("Connection failed",e)})},close:function(){console.log("111")},destroyConnection:function(){if(this.client.connected)try{this.client.end(),this.client={connected:!1},console.log("Successfully disconnected!")}catch(e){console.log("Disconnect failed",e.toString())}}}},a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"top"},[t("div",{staticClass:"button"},[t("div",{staticStyle:{width:"100%",height:"700px","margin-top":"-25px"},attrs:{id:"chartLineBox"}})])])}]};var r=n("VU/8")(l,a,!1,function(e){n("ILVU")},null,null);t.default=r.exports},ILVU:function(e,t){}});
//# sourceMappingURL=6.4d9214ab19227fc793c9.js.map