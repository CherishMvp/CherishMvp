{"version":3,"sources":["webpack:///./src/utils/initMqtt.js","webpack:///src/components/page/test.vue","webpack:///./src/components/page/test.vue?53f2","webpack:///./src/components/page/test.vue"],"names":["__WEBPACK_IMPORTED_MODULE_0_mqtt__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0_mqtt___default","n","initMqtt","options","_ref","hostname","port","userName","timeout","keepAlive","cleanSession","ssl","password","path","this","clean","connectTimeout","reconnectPeriod","clientId","username","connectUrl","prototype","connect","onSuccess","onLost","onMessageArrival","client","mqtt","error","console","log","on","topic","message","toString","disconnect","end","parseInt","Math","random","keepAliveInterval","sysconstant","test","data","datas","datass","datasss","datas3","datas4","datas5","myChart","myChart2","msg","dd","aa","mq7","mq2","mq135","connected","mounted","_this","mqttMSG","$nextTick","drawChart","timer","setInterval","push","$moment","date","format","length","splice","option","getOption","xAxis","series","value","setOption","$forceUpdate","destroyed","clearInterval","methods","$echarts","init","document","getElementById","title","text","tooltip","trigger","grid","containLabel","top","toolbox","left","show","feature","dataZoom","yAxisIndex","dataView","readOnly","magicType","type","restore","saveAsImage","legend","right","bottom","yAxis","name","max","fontSize","lineStyle","width","markPoint","markLine","radius","center","startAngle","endAngle","min","splitNumber","itemStyle","color","progress","pointer","axisLine","axisTick","distance","splitLine","axisLabel","anchor","offsetCenter","detail","valueAnimation","lineHeight","borderRadius","fontWeight","formatter","change","$router","_this2","connect_default","a","e","subscribe","qos","JSON","parse","page_test","render","_h","$createElement","_c","_self","staticClass","staticStyle","height","margin-top","attrs","id","_v","span","click","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/3.5d37ee0f63495f882111.js","sourcesContent":["import mqtt from \"mqtt\";\n/*\n使用方法\nthis.client= new initMqtt().connect()\n*/\n\nfunction initMqtt(options) {\n  const {\n    hostname,\n    port,\n    timeout,\n    keepAlive,\n    cleanSession,\n    ssl,\n    userName,\n    password,\n    path\n  } = options || {};\n  this.hostname = hostname || \"www.ai0626.top\";\n  this.port = port || 8084;\n  this.options = {\n    clean: true, // 保留会话\n    connectTimeout: 2000, // 超时时间\n    reconnectPeriod: 500, // 重连时间间隔\n    clientId: \"clientId-zwt6666\",\n    username: userName || \"admin\",\n    password: password || \"123456\",\n    path:'/mqtt'\n  };\n  this.connectUrl = `wss://${this.hostname}:${this.port}`;\n}\n\ninitMqtt.prototype.connect = function(onSuccess, onLost, onMessageArrival) {\n  try {\n    this.client = mqtt.connect(this.connectUrl, this.options);\n  } catch (error) {\n    console.log(\"mqtt.connect error\", error);\n  }\n  \n  this.client.on(\"connect\", () => onSuccess());\n  this.client.on(\"error\", () => onLost());\n  this.client.on(\"timeout\", () => {\n    console.log('....')\n  });\n  this.client.on(\"message\", (topic, message) =>\n    onMessageArrival(topic, message.toString())\n  );\n  console.log(this.client);\n  return this.client;\n};\ninitMqtt.prototype.disconnect = function() {\n  if (this.client) {\n    this.client.end();\n    this.client = null;\n  }\n};\n\nexport default initMqtt;\n\n\n// WEBPACK FOOTER //\n// ./src/utils/initMqtt.js","<!--  -->\n<template>\n  <div class=\"top\">\n\n    <div id=\"line\"\n         style=\"width: 100%;height:700px;margin-top:20px\"></div>\n    <el-col :span=\"24\">\n\n      <el-button @click=\"change\">切换</el-button>\n    </el-col>\n  </div>\n</template>\n<script>\nimport initMqtt from '../../utils/initMqtt'\nimport mqtt from 'mqtt'\nimport {\n  MQTT_SERVICE,\n  MQTT_USERNAME3,\n  MQTT_PASSWORD3,\n} from '../../utils/sysconstant'\nconst options = {\n  connectTimeout: 40000,\n  clientId: 'bbbbmonitor_' + parseInt(Math.random() * 100 + 800, 10),\n  keepAliveInterval: 10, //当时间为60时会出现断链问题\n\n  username: MQTT_USERNAME3,\n  password: MQTT_PASSWORD3,\n  clean: true,\n}\nexport default {\n  data() {\n    return {\n      data: [], //存放x轴实时最新的五个时间\n      datas: [], //存放MQ7的折线图数据\n      datass: [], //MQ2的..\n      datasss: [], //MQ135的...折线\n\n      datas3: [], //MQ7的仪表图数据..\n      datas4: [], //2的仪表..\n      datas5: [], //\bm135的仪表图数据...\n      myChart: {},\n      myChart2: {},\n\n      msg: [],\n      dd: '',\n      aa: {\n        mq7: '',\n        mq2: '',\n        mq135: '',\n      },\n      client: {\n        connected: false,\n      },\n    }\n  },\n\n  mounted() {\n    this.mqttMSG()\n\n    console.log('start')\n    this.$nextTick(() => {\n      this.drawChart()\n      // console.log( this.$moment(this.date).format(\"hh:mm:ss\"))\n      this.timer = setInterval(() => {\n        this.data.push(this.$moment(this.date).format('hh:mm:ss'))\n        //将从MQTT格式化好的数据依次存入各个折线对应的数组中。\n        // 只需要三个烟雾传感器的值就可以了\n        // s,ss,sss存放折线图数据，每个数组5个。s3,s4,s5各存放一个传感器的数据\n        this.datas.push(this.aa.mq7)\n        this.datass.push(this.aa.mq2)\n        this.datasss.push(this.aa.mq135) //随机数代替\n        this.datas3.push(this.aa.mq7)\n        this.datas4.push(this.aa.mq2) //随机数代替\n        this.datas5.push(this.aa.mq135) //随机数代替\n\n        // this.datass2.push(this.aa.humi)\n        //取数组中最新的1个数值.即传感器是实时显示一个的\n        if (this.data.length > 1) {\n          this.datas3.splice(0, 1)\n          this.datas4.splice(0, 1)\n          this.datas5.splice(0, 1)\n        }\n        //取数组中最新的五个数值\n        if (this.data.length > 5) {\n          // 让时间轴和数据都保持最新的五个\n          this.data.splice(0, 1)\n          this.datas.splice(0, 1)\n          this.datass.splice(0, 1)\n          this.datasss.splice(0, 1)\n        }\n        var option = this.myChart.getOption()\n        option.xAxis[0].data = this.data\n        //将数据以数组的形式赋给各自的data\n        option.series[0].data = this.datas\n        option.series[1].data = this.datass\n        option.series[2].data = this.datasss\n\n        option.series[3].data[0].value = this.datas3\n        option.series[4].data[0].value = this.datas4\n        option.series[5].data[0].value = this.datas5\n\n        // console.log( option.xAxis)\n\n        console.log('开始打印:')\n        //纵坐标值1\n\n        //纵坐标值2\n\n        console.log('mq7:' + option.series[4].data[0].value)\n        console.log('mq2:' + option.series[4].data[0].value)\n        console.log('mq135:' + option.series[5].data[0].value)\n\n        this.myChart.setOption(option)\n        this.$forceUpdate()\n      }, 2000)\n    })\n  },\n  destroyed() {\n    clearInterval(this.timer)\n    this.client.end()\n    console.log('stop-MQTT-connect')\n  },\n  methods: {\n    drawChart() {\n      this.myChart = this.$echarts.init(document.getElementById('line'))\n      // 绘制图表\n      this.myChart.setOption({\n        title: {\n          text: 'MQ系列传感器实时图',\n        },\n        tooltip: {\n          trigger: 'axis',\n        },\n\n        grid: {\n          containLabel: true,\n          top: '55%',\n        },\n        //工具栏\n        toolbox: {\n          top: '50%',\n          left: 'right',\n          show: true,\n          feature: {\n            dataZoom: {\n              yAxisIndex: 'none',\n            },\n            dataView: { readOnly: false },\n            magicType: { type: ['line', 'bar'] },\n            restore: {},\n            saveAsImage: {},\n          },\n        },\n        legend: {\n          // 可以通过left，right四个方向属性来设置百分比\n          data: ['一氧化碳浓度', '烟雾浓度', '有害气体浓度'],\n          right: 'center',\n          // orient: \"vertical\",\n          bottom: '50%',\n          // center:[\"40%\",\"50%\"]\n        },\n        xAxis: {\n          type: 'category',\n          data: [],\n        },\n        yAxis: [\n          {\n            name: '数值',\n            type: 'value',\n            max: 100,\n            fontSize: 20,\n          },\n        ],\n        series: [\n          // s和ss是折线图，其他不变\n          {\n            name: '一氧化碳浓度',\n            type: 'line',\n            lineStyle: {\n              width: 1,\n            },\n            //data接收赋值项\n            data: this.datas,\n            markPoint: {\n              data: [\n                { type: 'max', name: 'Max' },\n                { type: 'min', name: 'Min' },\n              ],\n            },\n            markLine: {\n              data: [{ type: 'average', name: 'Avg' }],\n            },\n          },\n          {\n            name: '烟雾浓度',\n            type: 'line',\n            lineStyle: {\n              width: 1,\n            },\n            //data接收赋值项\n            data: this.datass,\n            markPoint: {\n              data: [\n                { type: 'max', name: 'Max' },\n                { type: 'min', name: 'Min' },\n              ],\n            },\n            markLine: {\n              data: [{ type: 'average', name: 'Avg' }],\n            },\n          },\n          {\n            name: '有害气体浓度',\n            type: 'line',\n            lineStyle: {\n              width: 1,\n            },\n            //data接收赋值项\n            data: this.datasss,\n            markPoint: {\n              data: [\n                { type: 'max', name: 'Max' },\n                { type: 'min', name: 'Min' },\n              ],\n            },\n            markLine: {\n              data: [{ type: 'average', name: 'Avg' }],\n            },\n          },\n          //一氧化碳浓度,烟雾浓度,有害气体浓度对应的仪表图(3)\n          {\n            radius: '25%', //设置大小\n            name: '一氧化碳浓度',\n            type: 'gauge',\n            center: ['18%', '30%'],\n            startAngle: 200,\n            endAngle: -20,\n            min: 0,\n            max: 60, //最大范围\n            splitNumber: 6, //分成几大格\n            itemStyle: {\n              color: '#5470c6',\n            },\n            progress: {\n              show: true,\n              width: 30,\n            },\n            pointer: {\n              show: false,\n            },\n            axisLine: {\n              lineStyle: {\n                width: 30,\n              },\n            },\n            axisTick: {\n              distance: -45,\n              splitNumber: 4, //每个大刻度里面分成几小格\n              lineStyle: {\n                width: 2,\n                color: '#999',\n              },\n            },\n            splitLine: {\n              distance: -42,\n              length: 10,\n              lineStyle: {\n                width: 3,\n                color: '#999',\n              },\n            },\n            axisLabel: {\n              distance: -5,\n              color: '#999',\n              fontSize: 10,\n            },\n            anchor: {\n              show: false,\n            },\n            title: {\n              show: true,\n              offsetCenter: ['0%', '50%'],\n              fontSize: 20,\n              color: '#5470c6',\n            },\n            detail: {\n              valueAnimation: true,\n              width: '60%',\n              lineHeight: 40,\n              borderRadius: 8,\n              offsetCenter: [0, '-15%'],\n              fontSize: 26,\n              fontWeight: 'bolder',\n              formatter: '{value}',\n              color: '#5470c6',\n            },\n            data: [\n              {\n                value: this.datas3,\n                name: '一氧化碳浓度',\n              },\n            ],\n          },\n          //第二个\n          {\n            radius: '25%', //设置大小\n            name: '烟雾浓度',\n            type: 'gauge',\n            center: ['50%', '30%'], //设置位置\n            startAngle: 200,\n            endAngle: -20,\n            min: 0,\n            max: 60,\n            splitNumber: 6,\n            itemStyle: {\n              // 填充的颜色\n              color: '#91cc75',\n            },\n            progress: {\n              show: true,\n              width: 30,\n            },\n            pointer: {\n              show: false,\n            },\n            axisLine: {\n              lineStyle: {\n                width: 30,\n              },\n            },\n            axisTick: {\n              distance: -45,\n              splitNumber: 4,\n              lineStyle: {\n                width: 2,\n                color: '#999',\n              },\n            },\n            splitLine: {\n              distance: -42,\n              length: 10,\n              lineStyle: {\n                width: 3,\n                color: '#999',\n              },\n            },\n            axisLabel: {\n              distance: -5,\n              color: '#999',\n              fontSize: 10,\n            },\n            anchor: {\n              show: false,\n            },\n            title: {\n              show: true,\n              offsetCenter: ['0%', '50%'],\n              fontSize: 20,\n              color: '#91cc75',\n            },\n            detail: {\n              valueAnimation: true,\n              width: '60%',\n              lineHeight: 40,\n              borderRadius: 8,\n              offsetCenter: [0, '-15%'],\n              fontSize: 26,\n              fontWeight: 'bolder',\n              formatter: '{value}',\n              color: '#91cc75',\n            },\n            data: [\n              {\n                value: this.datas4,\n                name: '烟雾浓度',\n              },\n            ],\n          },\n          // 第三个radius\n          {\n            radius: '25%', //设置大小\n            name: '有害气体浓度',\n            type: 'gauge',\n            center: ['82%', '30%'], //设置位置\n            startAngle: 200,\n            endAngle: -20,\n            min: 0,\n            max: 60,\n            splitNumber: 6,\n            itemStyle: {\n              color: '#fac858',\n            },\n            progress: {\n              show: true,\n              width: 30,\n            },\n            pointer: {\n              show: false,\n            },\n            axisLine: {\n              lineStyle: {\n                width: 30,\n              },\n            },\n            axisTick: {\n              distance: -45,\n              splitNumber: 4,\n              lineStyle: {\n                width: 2,\n                color: '#999',\n              },\n            },\n            splitLine: {\n              distance: -42,\n              length: 10,\n              lineStyle: {\n                width: 3,\n                color: '#999',\n              },\n            },\n            axisLabel: {\n              distance: -3,\n              color: '#999',\n              fontSize: 10,\n            },\n            anchor: {\n              show: false,\n            },\n            title: {\n              show: true,\n              offsetCenter: ['0%', '50%'],\n              fontSize: 20,\n              color: '#fac858',\n            },\n            detail: {\n              valueAnimation: true,\n              width: '60%',\n              lineHeight: 40,\n              borderRadius: 8,\n              offsetCenter: [0, '-15%'],\n              fontSize: 26,\n              fontWeight: 'bolder',\n              formatter: '{value}',\n              color: '#fac858',\n            },\n            data: [\n              {\n                value: this.datas5,\n                name: '有害气体浓度',\n              },\n            ],\n          },\n        ],\n      })\n    },\n    change() {\n      this.$router.push({ path: '/monitor2' })\n    },\n    mqttMSG() {\n      // mqtt连接\n      //  if (client.connected) {\n      //   client.end();\n      // }\n      this.client = mqtt.connect(MQTT_SERVICE, options)\n\n      this.client.on('connect', (e) => {\n        console.log('连接成功:')\n        this.client.subscribe(\n          'zwt/test',\n          {\n            qos: 0,\n          },\n          (error) => {\n            if (!error) {\n              console.log('订阅成功')\n            } else {\n              console.log('订阅失败')\n            }\n          }\n        )\n      })\n      // 接收消息处理\n      /*处理流程：\n      *首先连接MQTT后，对收到的主题进行处理。对JSON格式序列化。toString()返回该对象的\n      字符串表示。JSON.parse()方法将JSON格式字符串转换为JS对象。要放入echarts数组中的值，先存在aa中的各个属性值中。然后依次写入前五个到各个图表的数组中。\n      *\n      * \n*/\n      this.client.on('message', (topic, message) => {\n        console.log('收到来自', topic, '的消息', message.toString())\n        //console.log(message)\n        this.msg = message.toString()\n        this.dd = JSON.parse(this.msg)\n        this.aa.mq7 = this.dd.mq7\n        this.aa.mq2 = this.dd.mq2\n        this.aa.mq135 = this.dd.mq135\n        //   //取出主题中的lx和mq2\n        console.log(this.aa.mq7)\n        console.log(this.aa.mq2)\n        console.log(this.aa.mq135)\n      })\n\n      // 断开发起重连\n      this.client.on('reconnect', (error) => {\n        console.log('正在重连:', error)\n      })\n      // 链接异常处理\n      this.client.on('error', (error) => {\n        console.log('连接失败:', error)\n      })\n    },\n  },\n}\n</script>\n<style scoped>\n.top {\n  /* margin-top: -30px; */\n  /* display: float;\n  justify-content: center;\n  text-align: center;\n  align-items: center; */\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  width: 800px;\n  height: 430px;\n  margin: -360px 0 0 -430px;\n}\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/page/test.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"top\"},[_c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"700px\",\"margin-top\":\"20px\"},attrs:{\"id\":\"line\"}}),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":24}},[_c('el-button',{on:{\"click\":_vm.change}},[_vm._v(\"切换\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-d371655a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/page/test.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-d371655a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./test.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./test.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./test.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-d371655a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./test.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-d371655a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/page/test.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}