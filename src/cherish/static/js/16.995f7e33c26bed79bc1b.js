webpackJsonp([16],{jsob:function(e,t){},sBaV:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=r("mtWM"),a=r.n(s),o={data:function(){var e=this;return{form:{name:"",pass:"",checkPass:""},rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],pass:[{validator:function(t,r,s){""===r?s(new Error("请输入密码")):(""!==e.form.checkPass&&e.$refs.form.validateField("checkPass"),s())},trigger:"blur"}],checkPass:[{validator:function(t,r,s){""===r?s(new Error("请再次输入密码")):r!==e.form.pass?s(new Error("两次输入的密码不一致")):s()},trigger:"blur"}]}}},mounted:function(){this.username},computed:{username:function(){var e=sessionStorage.getItem("ms_username");return this.form.name=e,console.log(this.form.name),e||this.name}},methods:{onSubmit:function(e){var t=this;t.$refs[e].validate(function(e){e&&a.a.post("/api/user/updateUser",{name:t.form.name,pass:t.form.pass}).then(function(e){if(console.log(e.data),0==e.data.state){var r=t.$loading({lock:!0,text:"修改成功",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});setTimeout(function(){r.close(),t.$router.push({path:"/login"})},1500)}}).catch(function(e){console.log(e)})})},onCancle:function(){this.$router.push("/userCenter")}}},n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"crumbs"},[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",[r("i",{staticClass:"el-icon-edit"}),e._v(" 个人中心")]),e._v(" "),r("el-breadcrumb-item",[e._v("修改密码")])],1)],1),e._v(" "),r("div",{staticClass:"userContent"},[r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"80px"}},[r("el-form-item",{attrs:{prop:"name",label:"用户名称"}},[r("el-input",{attrs:{disabled:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"pass",label:"密码"}},[r("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.form.pass,callback:function(t){e.$set(e.form,"pass",t)},expression:"form.pass"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"checkPass",label:"确认密码"}},[r("el-input",{attrs:{type:"password",placeholder:"请再次输入密码"},model:{value:e.form.checkPass,callback:function(t){e.$set(e.form,"checkPass",t)},expression:"form.checkPass"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("确定")]),e._v(" "),r("el-button",{on:{click:function(t){return e.onCancle()}}},[e._v("取消")])],1)],1)],1)])},staticRenderFns:[]};var i=r("VU/8")(o,n,!1,function(e){r("jsob")},"data-v-dca2fc2e",null);t.default=i.exports}});
//# sourceMappingURL=16.995f7e33c26bed79bc1b.js.map